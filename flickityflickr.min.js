/* Flickity Flickr - Populate a flickity slideshow with a flickr photostream | Joshua Woehlke | github.com/userexec/flickityflickr | Licensed MIT */
!function(){$.fn.flickityFlickr||($.fn.flickityFlickr=function(i){var t=this;return this.length?(this.css("visibility","hidden"),void(i&&"string"==typeof i.flickrId&&$.ajax({url:"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20atom%20where%20url%3D'https%3A%2F%2Fapi.flickr.com%2Fservices%2Ffeeds%2Fphotos_public.gne%3Fid%3D"+encodeURIComponent(i.flickrId)+"'&format=json&diagnostics=true&callback=",success:function(o){if(o=o.query.results,!o)return console.log("Feed not found for user ID "+i.flickrId+". Try using a service like http://idgettr.com/ to look up your Flickr ID."),!1;o=o.entry,o||console.log("No images found in this Flickr feed. Have you uploaded content?");var e=""+Math.floor(1e5*Math.random());return $.fn.flickityFlickr.shows[e]=t,t.each(function(){for(var i=0;i<o.length;i++)$(this).append('<div id="flickr_slide_'+e+"-"+i+'" class="flickr_slide"><a class="flickr_link" href="'+o[i].link[0].href+'"><img class="flickr_image"'+(0===i?" onload=\"$.fn.flickityFlickr.shows['"+e+"'].find('.flickity-viewport').css({'min-height': $('#flickr_slide_"+e+"-"+i+"').height() });$.fn.flickityFlickr.shows['"+e+"'].css('visibility', 'visible');\"":"")+' src="'+o[i].link[1].href+'" /></a></div>')}),t.each(function(){$(this).flickity(i),$(this).append('<div class="channelInfo" style="position: absolute; left: 0px; top: 0px; background: black; opacity: 0.5; padding: 0.4rem 0.5rem;"><a style="color: white !important; text-decoration: none; font-family: sans-serif;" href="'+o[0].author.uri+'" target="_blank">'+o[0].author.name+"'s photostream</a></div>"),$(this).append('<div class="yahooAttribution" style="position: absolute; right: 0px; bottom: 0px; background: black; opacity: 0.5;"><a href="https://www.yahoo.com/?ilc=401" target="_blank"><img src="https://poweredby.yahoo.com/white.png" width="134" height="29"/></a></div>'),$(this).on("settle",function(){$(this).flickity("resize"),$(this).flickity("reposition")})}),t}}))):!1},$.fn.flickityFlickr.shows={})}();